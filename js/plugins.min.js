(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());
/*!
 * Isotope PACKAGED v3.0.0
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * http://isotope.metafizzy.co
 * Copyright 2016 Metafizzy
 */
!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(b,f){function a(k,m,e){function j(i,q,u){var s,p="$()."+k+'("'+q+'")';return i.each(function(r,o){var v=e.data(o,k);if(!v){return void c(k+" not initialized. Cannot call methods, i.e. "+p)}var w=v[q];if(!w||"_"==q.charAt(0)){return void c(p+" is not a valid method")}var n=w.apply(v,u);s=void 0===s?n:s}),void 0!==s?s:i}function l(i,n){i.each(function(p,r){var q=e.data(r,k);q?(q.option(n),q._init()):(q=new m(r,n),e.data(r,k,q))})}e=e||f||b.jQuery,e&&(m.prototype.option||(m.prototype.option=function(i){e.isPlainObject(i)&&(this.options=e.extend(!0,this.options,i))}),e.fn[k]=function(i){if("string"==typeof i){var n=g.call(arguments,1);return j(this,i,n)}return l(this,i),this},h(e))}function h(e){!e||e&&e.bridget||(e.bridget=a)}var g=Array.prototype.slice,d=b.console,c="undefined"==typeof d?function(){}:function(e){d.error(e)};return h(f||b.jQuery),a}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}(this,function(){function a(){}var b=a.prototype;return b.on=function(d,f){if(d&&f){var c=this._events=this._events||{},g=c[d]=c[d]||[];return -1==g.indexOf(f)&&g.push(f),this}},b.once=function(d,f){if(d&&f){this.on(d,f);var c=this._onceEvents=this._onceEvents||{},g=c[d]=c[d]||{};return g[f]=!0,this}},b.off=function(d,f){var c=this._events&&this._events[d];if(c&&c.length){var g=c.indexOf(f);return -1!=g&&c.splice(g,1),this}},b.emitEvent=function(d,h){var c=this._events&&this._events[d];if(c&&c.length){var k=0,j=c[k];h=h||[];for(var g=this._onceEvents&&this._onceEvents[d];j;){var f=g&&g[j];f&&(this.off(d,j),delete g[j]),j.apply(this,h),k+=f?0:1,j=c[k]}return this}},a}),function(a,b){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){function q(d){var h=parseFloat(d),a=-1==d.indexOf("%")&&!isNaN(h);return a&&h}function k(){}function g(){for(var d={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},h=0;j>h;h++){var a=p[h];d[a]=0}return d}function f(a){var d=getComputedStyle(a);return d||m("Style returned "+d+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),d}function c(){if(!l){l=!0;var d=document.createElement("div");d.style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box";var a=document.body||document.documentElement;a.appendChild(d);var h=f(d);b.isBoxSizeOuter=v=200==q(h.width),a.removeChild(d)}}function b(w){if(c(),"string"==typeof w&&(w=document.querySelector(w)),w&&"object"==typeof w&&w.nodeType){var h=f(w);if("none"==h.display){return g()}var F={};F.width=w.offsetWidth,F.height=w.offsetHeight;for(var A=F.isBorderBox="border-box"==h.boxSizing,o=0;j>o;o++){var u=p[o],C=h[u],n=parseFloat(C);F[u]=isNaN(n)?0:n}var i=F.paddingLeft+F.paddingRight,D=F.paddingTop+F.paddingBottom,t=F.marginLeft+F.marginRight,J=F.marginTop+F.marginBottom,H=F.borderLeftWidth+F.borderRightWidth,G=F.borderTopWidth+F.borderBottomWidth,B=A&&v,E=q(h.width);E!==!1&&(F.width=E+(B?0:i+H));var s=q(h.height);return s!==!1&&(F.height=s+(B?0:D+G)),F.innerWidth=F.width-(i+H),F.innerHeight=F.height-(D+G),F.outerWidth=F.width+t,F.outerHeight=F.height+J,F}}var v,m="undefined"==typeof console?k:function(a){console.error(a)},p=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],j=p.length,l=!1;return b}),function(a,b){"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){var a=function(){var c=Element.prototype;if(c.matches){return"matches"}if(c.matchesSelector){return"matchesSelector"}for(var d=["webkit","moz","ms","o"],b=0;b<d.length;b++){var g=d[b],f=g+"MatchesSelector";if(c[f]){return f}}}();return function(c,b){return c[a](b)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(b,c){var a={};a.extend=function(g,h){for(var f in h){g[f]=h[f]}return g},a.modulo=function(f,g){return(f%g+g)%g},a.makeArray=function(g){var h=[];if(Array.isArray(g)){h=g}else{if(g&&"number"==typeof g.length){for(var f=0;f<g.length;f++){h.push(g[f])}}else{h.push(g)}}return h},a.removeFrom=function(g,h){var f=g.indexOf(h);-1!=f&&g.splice(f,1)},a.getParent=function(f,e){for(;f!=document.body;){if(f=f.parentNode,c(f,e)){return f}}},a.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},a.handleEvent=function(f){var g="on"+f.type;this[g]&&this[g](f)},a.filterFindElements=function(e,g){e=a.makeArray(e);var f=[];return e.forEach(function(j){if(j instanceof HTMLElement){if(!g){return void f.push(j)}c(j,g)&&f.push(j);for(var h=j.querySelectorAll(g),k=0;k<h.length;k++){f.push(h[k])}}}),f},a.debounceMethod=function(g,h,f){var k=g.prototype[h],j=h+"Timeout";g.prototype[h]=function(){var i=this[j];i&&clearTimeout(i);var m=arguments,l=this;this[j]=setTimeout(function(){k.apply(l,m),delete l[j]},f||100)}},a.docReady=function(e){"complete"==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},a.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(g,h,f){return h+"-"+f}).toLowerCase()};var d=b.console;return a.htmlInit=function(f,g){a.docReady(function(){var n=a.toDashed(g),m="data-"+n,i=document.querySelectorAll("["+m+"]"),j=document.querySelectorAll(".js-"+n),k=a.makeArray(i).concat(a.makeArray(j)),o=m+"-options",e=b.jQuery;k.forEach(function(q){var p,s=q.getAttribute(m)||q.getAttribute(o);try{p=s&&JSON.parse(s)}catch(h){return void (d&&d.error("Error parsing "+m+" on "+q.className+": "+h))}var l=new f(q,p);e&&e.data(q,g,l)})})},a}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a.EvEmitter,a.getSize))}(window,function(A,v){function m(a){for(var c in a){return !1}return c=null,!0}function j(a,c){a&&(this.element=a,this.layout=c,this.position={x:0,y:0},this._create())}function g(a){return a.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})}var b=document.documentElement.style,B="string"==typeof b.transition?"transition":"WebkitTransition",y="string"==typeof b.transform?"transform":"WebkitTransform",z={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[B],p={transform:y,transition:B,transitionDuration:B+"Duration",transitionProperty:B+"Property",transitionDelay:B+"Delay"},w=j.prototype=Object.create(A.prototype);w.constructor=j,w._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},w.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},w.getSize=function(){this.size=v(this.element)},w.css=function(c){var d=this.element.style;for(var a in c){var f=p[a]||a;d[f]=c[a]}},w.getPosition=function(){var f=getComputedStyle(this.element),u=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),D=f[u?"left":"right"],C=f[d?"top":"bottom"],l=this.layout.size,h=-1!=D.indexOf("%")?parseFloat(D)/100*l.width:parseInt(D,10),c=-1!=C.indexOf("%")?parseFloat(C)/100*l.height:parseInt(C,10);h=isNaN(h)?0:h,c=isNaN(c)?0:c,h-=u?l.paddingLeft:l.paddingRight,c-=d?l.paddingTop:l.paddingBottom,this.position.x=h,this.position.y=c},w.layoutPosition=function(){var K=this.layout.size,G={},E=this.layout._getOption("originLeft"),C=this.layout._getOption("originTop"),f=E?"paddingLeft":"paddingRight",c=E?"left":"right",L=E?"right":"left",I=this.position.x+K[f];G[c]=this.getXValue(I),G[L]="";var J=C?"paddingTop":"paddingBottom",F=C?"top":"bottom",H=C?"bottom":"top",D=this.position.y+K[J];G[F]=this.getYValue(D),G[H]="",this.css(G),this.emitEvent("layout",[this])},w.getXValue=function(a){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!c?a/this.layout.size.width*100+"%":a+"px"},w.getYValue=function(a){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&c?a/this.layout.size.height*100+"%":a+"px"},w._transitionTo=function(G,D){this.getPosition();var l=this.position.x,f=this.position.y,d=parseInt(G,10),c=parseInt(D,10),H=d===this.position.x&&c===this.position.y;if(this.setPosition(G,D),H&&!this.isTransitioning){return void this.layoutPosition()}var E=G-l,F=D-f,C={};C.transform=this.getTranslate(E,F),this.transition({to:C,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},w.getTranslate=function(c,d){var a=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop");return c=a?c:-c,d=f?d:-d,"translate3d("+c+"px, "+d+"px, 0)"},w.goTo=function(a,c){this.setPosition(a,c),this.layoutPosition()},w.moveTo=w._transitionTo,w.setPosition=function(a,c){this.position.x=parseInt(a,10),this.position.y=parseInt(c,10)},w._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var c in a.onTransitionEnd){a.onTransitionEnd[c].call(this)}},w.transition=function(c){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(c)}var d=this._transn;for(var a in c.onTransitionEnd){d.onEnd[a]=c.onTransitionEnd[a]}for(a in c.to){d.ingProperties[a]=!0,c.isCleaning&&(d.clean[a]=!0)}if(c.from){this.css(c.from);var f=this.element.offsetHeight;f=null}this.enableTransition(c.to),this.css(c.to),this.isTransitioning=!0};var k="opacity,"+g(y);w.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;a="number"==typeof a?a+"ms":a,this.css({transitionProperty:k,transitionDuration:a,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(z,this,!1)}},w.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},w.onotransitionend=function(a){this.ontransitionend(a)};var q={"-webkit-transform":"transform"};w.ontransitionend=function(a){if(a.target===this.element){var c=this._transn,f=q[a.propertyName]||a.propertyName;if(delete c.ingProperties[f],m(c.ingProperties)&&this.disableTransition(),f in c.clean&&(this.element.style[a.propertyName]="",delete c.clean[f]),f in c.onEnd){var d=c.onEnd[f];d.call(this),delete c.onEnd[f]}this.emitEvent("transitionEnd",[this])}},w.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(z,this,!1),this.isTransitioning=!1},w._removeStyles=function(c){var d={};for(var a in c){d[a]=""}this.css(d)};var x={transitionProperty:"",transitionDuration:"",transitionDelay:""};return w.removeTransitionStyles=function(){this.css(x)},w.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},w.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},w.remove=function(){return B&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},w.reveal=function(){delete this.isHidden,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("visibleStyle");d[a]=this.onRevealTransitionEnd,this.transition({from:c.hiddenStyle,to:c.visibleStyle,isCleaning:!0,onTransitionEnd:d})},w.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},w.getHideRevealTransitionEndProperty=function(c){var d=this.layout.options[c];if(d.opacity){return"opacity"}for(var a in d){return a}},w.hide=function(){this.isHidden=!0,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("hiddenStyle");d[a]=this.onHideTransitionEnd,this.transition({from:c.visibleStyle,to:c.hiddenStyle,isCleaning:!0,onTransitionEnd:d})},w.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},w.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},j}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,f,e,d){return b(a,c,f,e,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(C,x,q,j,g){function b(c,f){var a=j.getQueryElement(c);if(!a){return void (B&&B.error("Bad element for "+this.constructor.namespace+": "+(a||c)))}this.element=a,v&&(this.$element=v(this.element)),this.options=j.extend({},this.constructor.defaults),this.option(f);var h=++p;this.element.outlayerGUID=h,w[h]=this,this._create();var d=this._getOption("initLayout");d&&this.layout()}function D(a){function c(){a.apply(this,arguments)}return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c}function A(c){if("number"==typeof c){return c}var d=c.match(/(^\d*\.?\d*)(\w*)/),a=d&&d[1],h=d&&d[2];if(!a.length){return 0}a=parseFloat(a);var f=k[h]||1;return a*f}var B=C.console,v=C.jQuery,y=function(){},p=0,w={};b.namespace="outlayer",b.Item=g,b.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var z=b.prototype;j.extend(z,x.prototype),z.option=function(a){j.extend(this.options,a)},z._getOption=function(a){var c=this.constructor.compatOptions[a];return c&&void 0!==this.options[c]?this.options[c]:this.options[a]},b.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},z._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),j.extend(this.element.style,this.options.containerStyle);var a=this._getOption("resize");a&&this.bindResize()},z.reloadItems=function(){this.items=this._itemize(this.element.children)},z._itemize=function(c){for(var h=this._filterFindItemElements(c),a=this.constructor.Item,m=[],l=0;l<h.length;l++){var f=h[l],d=new a(f,this);m.push(d)}return m},z._filterFindItemElements=function(a){return j.filterFindElements(a,this.options.itemSelector)},z.getItemElements=function(){return this.items.map(function(a){return a.element})},z.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),c=void 0!==a?a:!this._isLayoutInited;this.layoutItems(this.items,c),this._isLayoutInited=!0},z._init=z.layout,z._resetLayout=function(){this.getSize()},z.getSize=function(){this.size=q(this.element)},z._getMeasurement=function(a,c){var f,d=this.options[a];d?("string"==typeof d?f=this.element.querySelector(d):d instanceof HTMLElement&&(f=d),this[a]=f?q(f)[c]:d):this[a]=0},z.layoutItems=function(a,c){a=this._getItemsForLayout(a),this._layoutItems(a,c),this._postLayout()},z._getItemsForLayout=function(a){return a.filter(function(c){return !c.isIgnored})},z._layoutItems=function(c,d){if(this._emitCompleteOnItems("layout",c),c&&c.length){var a=[];c.forEach(function(e){var f=this._getItemLayoutPosition(e);f.item=e,f.isInstant=d||e.isLayoutInstant,a.push(f)},this),this._processLayoutQueue(a)}},z._getItemLayoutPosition=function(){return{x:0,y:0}},z._processLayoutQueue=function(a){this.updateStagger(),a.forEach(function(c,d){this._positionItem(c.item,c.x,c.y,c.isInstant,d)},this)},z.updateStagger=function(){var a=this.options.stagger;return null===a||void 0===a?void (this.stagger=0):(this.stagger=A(a),this.stagger)},z._positionItem=function(c,d,a,h,f){h?c.goTo(d,a):(c.stagger(f*this.stagger),c.moveTo(d,a))},z._postLayout=function(){this.resizeContainer()},z.resizeContainer=function(){var a=this._getOption("resizeContainer");if(a){var c=this._getContainerSize();c&&(this._setContainerMeasure(c.width,!0),this._setContainerMeasure(c.height,!1))}},z._getContainerSize=y,z._setContainerMeasure=function(c,d){if(void 0!==c){var a=this.size;a.isBorderBox&&(c+=d?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),c=Math.max(c,0),this.element.style[d?"width":"height"]=c+"px"}},z._emitCompleteOnItems=function(c,h){function a(){l.dispatchEvent(c+"Complete",null,[h])}function m(){d++,d==f&&a()}var l=this,f=h.length;if(!h||!f){return void a()}var d=0;h.forEach(function(i){i.once(c,m)})},z.dispatchEvent=function(c,d,a){var h=d?[d].concat(a):a;if(this.emitEvent(c,h),v){if(this.$element=this.$element||v(this.element),d){var f=v.Event(d);f.type=c,this.$element.trigger(f,a)}else{this.$element.trigger(c,a)}}},z.ignore=function(a){var c=this.getItem(a);c&&(c.isIgnored=!0)},z.unignore=function(a){var c=this.getItem(a);c&&delete c.isIgnored},z.stamp=function(a){a=this._find(a),a&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},z.unstamp=function(a){a=this._find(a),a&&a.forEach(function(c){j.removeFrom(this.stamps,c),this.unignore(c)},this)},z._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=j.makeArray(a)):void 0},z._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},z._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),c=this.size;this._boundingRect={left:a.left+c.paddingLeft+c.borderLeftWidth,top:a.top+c.paddingTop+c.borderTopWidth,right:a.right-(c.paddingRight+c.borderRightWidth),bottom:a.bottom-(c.paddingBottom+c.borderBottomWidth)}},z._manageStamp=y,z._getElementOffset=function(a){var d=a.getBoundingClientRect(),h=this._boundingRect,f=q(a),c={left:d.left-h.left-f.marginLeft,top:d.top-h.top-f.marginTop,right:h.right-d.right-f.marginRight,bottom:h.bottom-d.bottom-f.marginBottom};return c},z.handleEvent=j.handleEvent,z.bindResize=function(){C.addEventListener("resize",this),this.isResizeBound=!0},z.unbindResize=function(){C.removeEventListener("resize",this),this.isResizeBound=!1},z.onresize=function(){this.resize()},j.debounceMethod(b,"onresize",100),z.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},z.needsResizeLayout=function(){var a=q(this.element),c=this.size&&a;return c&&a.innerWidth!==this.size.innerWidth},z.addItems=function(a){var c=this._itemize(a);return c.length&&(this.items=this.items.concat(c)),c},z.appended=function(a){var c=this.addItems(a);c.length&&(this.layoutItems(c,!0),this.reveal(c))},z.prepended=function(c){var d=this._itemize(c);if(d.length){var a=this.items.slice(0);this.items=d.concat(a),this._resetLayout(),this._manageStamps(),this.layoutItems(d,!0),this.reveal(d),this.layoutItems(a)}},z.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var c=this.updateStagger();a.forEach(function(e,d){e.stagger(d*c),e.reveal()})}},z.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var c=this.updateStagger();a.forEach(function(e,d){e.stagger(d*c),e.hide()})}},z.revealItemElements=function(a){var c=this.getItems(a);this.reveal(c)},z.hideItemElements=function(a){var c=this.getItems(a);this.hide(c)},z.getItem=function(c){for(var d=0;d<this.items.length;d++){var a=this.items[d];if(a.element==c){return a}}},z.getItems=function(a){a=j.makeArray(a);var c=[];return a.forEach(function(e){var d=this.getItem(e);d&&c.push(d)},this),c},z.remove=function(a){var c=this.getItems(a);this._emitCompleteOnItems("remove",c),c&&c.length&&c.forEach(function(d){d.remove(),j.removeFrom(this.items,d)},this)},z.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="",this.items.forEach(function(d){d.destroy()}),this.unbindResize();var c=this.element.outlayerGUID;delete w[c],delete this.element.outlayerGUID,v&&v.removeData(this.element,this.constructor.namespace)},b.data=function(a){a=j.getQueryElement(a);var c=a&&a.outlayerGUID;return c&&w[c]},b.create=function(c,d){var a=D(b);return a.defaults=j.extend({},b.defaults),j.extend(a.defaults,d),a.compatOptions=j.extend({},b.compatOptions),a.namespace=c,a.data=b.data,a.Item=D(g),j.htmlInit(a,c),v&&v.bridget&&v.bridget(c,a),a};var k={ms:1,s:1000};return b.Item=g,b}),function(a,b){"function"==typeof define&&define.amd?define("isotope/item",["outlayer/outlayer"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.Item=b(a.Outlayer))}(window,function(b){function c(){b.Item.apply(this,arguments)}var a=c.prototype=Object.create(b.Item.prototype),f=a._create;a._create=function(){this.id=this.layout.itemGUID++,f.call(this),this.sortData={}},a.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var h=this.layout.options.getSortData,j=this.layout._sorters;for(var g in h){var k=j[g];this.sortData[g]=k(this.element,this)}}};var d=a.destroy;return a.destroy=function(){d.apply(this,arguments),this.css({display:""})},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/layout-mode",["get-size/get-size","outlayer/outlayer"],b):"object"==typeof module&&module.exports?module.exports=b(require("get-size"),require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.LayoutMode=b(a.getSize,a.Outlayer))}(window,function(b,c){function a(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}var f=a.prototype,d=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return d.forEach(function(e){f[e]=function(){return c.prototype[e].apply(this.isotope,arguments)}}),f.needsVerticalResizeLayout=function(){var h=b(this.isotope.element),g=this.isotope.size&&h;return g&&h.innerHeight!=this.isotope.size.innerHeight},f._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},f.getColumnWidth=function(){this.getSegmentSize("column","Width")},f.getRowHeight=function(){this.getSegmentSize("row","Height")},f.getSegmentSize=function(h,j){var g=h+j,l="outer"+j;if(this._getMeasurement(g,l),!this[g]){var k=this.getFirstItemSize();this[g]=k&&k[l]||this.isotope.size["inner"+j]}},f.getFirstItemSize=function(){var g=this.isotope.filteredItems[0];return g&&g.element&&b(g.element)},f.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},f.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},a.modes={},a.create=function(g,h){function i(){a.apply(this,arguments)}return i.prototype=Object.create(f),i.prototype.constructor=i,h&&(i.options=h),i.prototype.namespace=g,a.modes[g]=i,i},a}),function(a,b){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window,function(b,c){var a=b.create("masonry");return a.compatOptions.fitWidth="isFitWidth",a.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var d=0;d<this.cols;d++){this.colYs.push(0)}this.maxY=0},a.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var f=this.items[0],e=f&&f.element;this.columnWidth=e&&c(e).outerWidth||this.containerWidth}var k=this.columnWidth+=this.gutter,j=this.containerWidth+this.gutter,h=j/k,g=k-j%k,d=g&&1>g?"round":"floor";h=Math[d](h),this.cols=Math.max(h,1)},a.prototype.getContainerWidth=function(){var e=this._getOption("fitWidth"),d=e?this.element.parentNode:this.element,f=c(d);this.containerWidth=f&&f.innerWidth},a.prototype._getItemLayoutPosition=function(w){w.getSize();var m=w.size.outerWidth%this.columnWidth,k=m&&1>m?"round":"ceil",j=Math[k](w.size.outerWidth/this.columnWidth);j=Math.min(j,this.cols);for(var g=this._getColGroup(j),f=Math.min.apply(Math,g),x=g.indexOf(f),q={x:this.columnWidth*x,y:f},v=f+w.size.outerHeight,l=this.cols+1-g.length,p=0;l>p;p++){this.colYs[x+p]=v}return q},a.prototype._getColGroup=function(f){if(2>f){return this.colYs}for(var g=[],d=this.cols+1-f,j=0;d>j;j++){var h=this.colYs.slice(j,j+f);g[j]=Math.max.apply(Math,h)}return g},a.prototype._manageStamp=function(w){var k=c(w),g=this._getElementOffset(w),f=this._getOption("originLeft"),e=f?g.left:g.right,x=e+k.outerWidth,q=Math.floor(e/this.columnWidth);q=Math.max(0,q);var v=Math.floor(x/this.columnWidth);v-=x%this.columnWidth?0:1,v=Math.min(this.cols-1,v);for(var m=this._getOption("originTop"),p=(m?g.top:g.bottom)+k.outerHeight,j=q;v>=j;j++){this.colYs[j]=Math.max(p,this.colYs[j])}},a.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var d={height:this.maxY};return this._getOption("fitWidth")&&(d.width=this._getContainerFitWidth()),d},a.prototype._getContainerFitWidth=function(){for(var d=0,f=this.cols;--f&&0===this.colYs[f];){d++}return(this.cols-d)*this.columnWidth-this.gutter},a.prototype.needsResizeLayout=function(){var d=this.containerWidth;return this.getContainerWidth(),d!=this.containerWidth},a}),function(a,b){"function"==typeof define&&define.amd?define("isotope/layout-modes/masonry",["../layout-mode","masonry/masonry"],b):"object"==typeof module&&module.exports?module.exports=b(require("../layout-mode"),require("masonry-layout")):b(a.Isotope.LayoutMode,a.Masonry)}(window,function(d,h){var c=d.create("masonry"),k=c.prototype,j={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var g in h.prototype){j[g]||(k[g]=h.prototype[g])}var f=k.measureColumns;k.measureColumns=function(){this.items=this.isotope.filteredItems,f.call(this)};var b=k._getOption;return k._getOption=function(a){return"fitWidth"==a?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:b.apply(this.isotope,arguments)},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/layout-modes/fit-rows",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(b){var c=b.create("fitRows"),a=c.prototype;return a._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},a._getItemLayoutPosition=function(f){f.getSize();var g=f.size.outerWidth+this.gutter,d=this.isotope.size.innerWidth+this.gutter;0!==this.x&&g+this.x>d&&(this.x=0,this.y=this.maxY);var h={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+f.size.outerHeight),this.x+=g,h},a._getContainerSize=function(){return{height:this.maxY}},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/layout-modes/vertical",["../layout-mode"],b):"object"==typeof module&&module.exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(b){var c=b.create("vertical",{horizontalAlignment:0}),a=c.prototype;return a._resetLayout=function(){this.y=0},a._getItemLayoutPosition=function(f){f.getSize();var g=(this.isotope.size.innerWidth-f.size.outerWidth)*this.options.horizontalAlignment,d=this.y;return this.y+=f.size.outerHeight,{x:g,y:d}},a._getContainerSize=function(){return{height:this.y}},c}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","./item","./layout-mode","./layout-modes/masonry","./layout-modes/fit-rows","./layout-modes/vertical"],function(d,h,g,f,e,c){return b(a,d,h,g,f,e,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):a.Isotope=b(a,a.Outlayer,a.getSize,a.matchesSelector,a.fizzyUIUtils,a.Isotope.Item,a.Isotope.LayoutMode)}(window,function(A,v,m,j,g,b,B){function y(a,c){return function(f,E){for(var D=0;D<a.length;D++){var C=a[D],t=f.sortData[C],d=E.sortData[C];if(t>d||d>t){var e=void 0!==c[C]?c[C]:c,l=e?1:-1;return(t>d?1:-1)*l}}return 0}}var z=A.jQuery,p=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},w=v.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});w.Item=b,w.LayoutMode=B;var k=w.prototype;k._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),v.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var a in B.modes){this._initLayoutMode(a)}},k.reloadItems=function(){this.itemGUID=0,v.prototype.reloadItems.call(this)},k._itemize=function(){for(var c=v.prototype._itemize.apply(this,arguments),a=0;a<c.length;a++){var d=c[a];d.id=this.itemGUID++}return this._updateItemsSortData(c),c},k._initLayoutMode=function(c){var d=B.modes[c],a=this.options[c]||{};this.options[c]=d.options?g.extend(d.options,a):a,this.modes[c]=new d(this)},k.layout=function(){return !this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},k._layout=function(){var a=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},k.arrange=function(a){this.option(a),this._getIsInstant();var c=this._filter(this.items);this.filteredItems=c.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[c]):this._hideReveal(c),this._sort(),this._layout()},k._init=k.arrange,k._hideReveal=function(a){this.reveal(a.needReveal),this.hide(a.needHide)},k._getIsInstant=function(){var a=this._getOption("layoutInstant"),c=void 0!==a?a:!this._isLayoutInited;return this._isInstant=c,c},k._bindArrangeComplete=function(){function c(){d&&a&&h&&f.dispatchEvent("arrangeComplete",null,[f.filteredItems])}var d,a,h,f=this;this.once("layoutComplete",function(){d=!0,c()}),this.once("hideComplete",function(){a=!0,c()}),this.once("revealComplete",function(){h=!0,c()})},k._filter=function(E){var l=this.options.filter;l=l||"*";for(var h=[],f=[],d=[],c=this._getFilterTest(l),F=0;F<E.length;F++){var C=E[F];if(!C.isIgnored){var D=c(C);D&&h.push(C),D&&C.isHidden?f.push(C):D||C.isHidden||d.push(C)}}return{matches:h,needReveal:f,needHide:d}},k._getFilterTest=function(a){return z&&this.options.isJQueryFiltering?function(c){return z(c.element).is(a)}:"function"==typeof a?function(c){return a(c.element)}:function(c){return j(c.element,a)}},k.updateSortData=function(a){var c;a?(a=g.makeArray(a),c=this.getItems(a)):c=this.items,this._getSorters(),this._updateItemsSortData(c)},k._getSorters=function(){var c=this.options.getSortData;for(var d in c){var a=c[d];this._sorters[d]=q(a)}},k._updateItemsSortData=function(c){for(var d=c&&c.length,a=0;d&&d>a;a++){var f=c[a];f.updateSortData()}};var q=function(){function a(f){if("string"!=typeof f){return f}var e=p(f).split(" "),C=e[0],u=C.match(/^\[(.+)\]$/),l=u&&u[1],h=c(l,C),d=w.sortDataParsers[e[1]];return f=d?function(i){return i&&d(h(i))}:function(i){return i&&h(i)}}function c(d,f){return d?function(h){return h.getAttribute(d)}:function(h){var e=h.querySelector(f);return e&&e.textContent}}return a}();w.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},k._sort=function(){var c=this.options.sortBy;if(c){var d=[].concat.apply(c,this.sortHistory),a=y(d,this.options.sortAscending);this.filteredItems.sort(a),c!=this.sortHistory[0]&&this.sortHistory.unshift(c)}},k._mode=function(){var a=this.options.layoutMode,c=this.modes[a];if(!c){throw new Error("No layout mode: "+a)}return c.options=this.options[a],c},k._resetLayout=function(){v.prototype._resetLayout.call(this),this._mode()._resetLayout()},k._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},k._manageStamp=function(a){this._mode()._manageStamp(a)},k._getContainerSize=function(){return this._mode()._getContainerSize()},k.needsResizeLayout=function(){return this._mode().needsResizeLayout()},k.appended=function(c){var d=this.addItems(c);if(d.length){var a=this._filterRevealAdded(d);this.filteredItems=this.filteredItems.concat(a)}},k.prepended=function(c){var d=this._itemize(c);if(d.length){this._resetLayout(),this._manageStamps();var a=this._filterRevealAdded(d);this.layoutItems(this.filteredItems),this.filteredItems=a.concat(this.filteredItems),this.items=d.concat(this.items)}},k._filterRevealAdded=function(a){var c=this._filter(a);return this.hide(c.needHide),this.reveal(c.matches),this.layoutItems(c.matches,!0),c.matches},k.insert=function(c){var f=this.addItems(c);if(f.length){var a,l,h=f.length;for(a=0;h>a;a++){l=f[a],this.element.appendChild(l.element)}var d=this._filter(f).matches;for(a=0;h>a;a++){f[a].isLayoutInstant=!0}for(this.arrange(),a=0;h>a;a++){delete f[a].isLayoutInstant}this.reveal(d)}};var x=k.remove;return k.remove=function(c){c=g.makeArray(c);var f=this.getItems(c);x.call(this,c);for(var a=f&&f.length,h=0;a&&a>h;h++){var d=f[h];g.removeFrom(this.filteredItems,d)}},k.shuffle=function(){for(var a=0;a<this.items.length;a++){var c=this.items[a];c.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},k._noTransition=function(c,d){var a=this.options.transitionDuration;this.options.transitionDuration=0;var f=c.apply(this,d);return this.options.transitionDuration=a,f},k.getFilteredItemElements=function(){return this.filteredItems.map(function(a){return a.element})},w});
/*!
 * Packery layout mode PACKAGED v2.0.0
 * sub-classes Packery
 */
!function(d,c){"function"==typeof define&&define.amd?define("packery/js/rect",c):"object"==typeof module&&module.exports?module.exports=c():(d.Packery=d.Packery||{},d.Packery.Rect=c())}(window,function(){function d(a){for(var e in d.defaults){this[e]=d.defaults[e]}for(e in a){this[e]=a[e]}}d.defaults={x:0,y:0,width:0,height:0};var c=d.prototype;return c.contains=function(f){var e=f.width||0,g=f.height||0;return this.x<=f.x&&this.y<=f.y&&this.x+this.width>=f.x+e&&this.y+this.height>=f.y+g},c.overlaps=function(g){var f=this.x+this.width,j=this.y+this.height,i=g.x+g.width,h=g.y+g.height;return this.x<i&&f>g.x&&this.y<h&&j>g.y},c.getMaximalFreeRects=function(a){if(!this.overlaps(a)){return !1}var n,m=[],l=this.x+this.width,k=this.y+this.height,j=a.x+a.width,i=a.y+a.height;return this.y<a.y&&(n=new d({x:this.x,y:this.y,width:this.width,height:a.y-this.y}),m.push(n)),l>j&&(n=new d({x:j,y:this.y,width:l-j,height:this.height}),m.push(n)),k>i&&(n=new d({x:this.x,y:i,width:this.width,height:k-i}),m.push(n)),this.x<a.x&&(n=new d({x:this.x,y:this.y,width:a.x-this.x,height:this.height}),m.push(n)),m},c.canFit=function(b){return this.width>=b.width&&this.height>=b.height},d}),function(e,d){if("function"==typeof define&&define.amd){define("packery/js/packer",["./rect"],d)}else{if("object"==typeof module&&module.exports){module.exports=d(require("./rect"))}else{var f=e.Packery=e.Packery||{};f.Packer=d(f.Rect)}}}(window,function(f){function e(i,d,j){this.width=i||0,this.height=d||0,this.sortDirection=j||"downwardLeftToRight",this.reset()}var h=e.prototype;h.reset=function(){this.spaces=[];var a=new f({x:0,y:0,width:this.width,height:this.height});this.spaces.push(a),this.sorter=g[this.sortDirection]||g.downwardLeftToRight},h.pack=function(i){for(var d=0;d<this.spaces.length;d++){var j=this.spaces[d];if(j.canFit(i)){this.placeInSpace(i,j);break}}},h.columnPack=function(j){for(var i=0;i<this.spaces.length;i++){var l=this.spaces[i],k=l.x<=j.x&&l.x+l.width>=j.x+j.width&&l.height>=j.height-0.01;if(k){j.y=l.y,this.placed(j);break}}},h.rowPack=function(j){for(var i=0;i<this.spaces.length;i++){var l=this.spaces[i],k=l.y<=j.y&&l.y+l.height>=j.y+j.height&&l.width>=j.width-0.01;if(k){j.x=l.x,this.placed(j);break}}},h.placeInSpace=function(d,c){d.x=c.x,d.y=c.y,this.placed(d)},h.placed=function(j){for(var i=[],m=0;m<this.spaces.length;m++){var l=this.spaces[m],k=l.getMaximalFreeRects(j);k?i.push.apply(i,k):i.push(l)}this.spaces=i,this.mergeSortSpaces()},h.mergeSortSpaces=function(){e.mergeRects(this.spaces),this.spaces.sort(this.sorter)},h.addSpace=function(b){this.spaces.push(b),this.mergeSortSpaces()},e.mergeRects=function(j){var i=0,m=j[i];j:for(;m;){for(var l=0,k=j[i+l];k;){if(k==m){l++}else{if(k.contains(m)){j.splice(i,1),m=j[i];continue j}m.contains(k)?j.splice(i+l,1):l++}k=j[i+l]}i++,m=j[i]}return j};var g={downwardLeftToRight:function(d,c){return d.y-c.y||d.x-c.x},rightwardTopToBottom:function(d,c){return d.x-c.x||d.y-c.y}};return e}),function(d,c){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],c):"object"==typeof module&&module.exports?module.exports=c(require("outlayer"),require("./rect")):d.Packery.Item=c(d.Outlayer,d.Packery.Rect)}(window,function(j,i){var p=document.documentElement.style,o="string"==typeof p.transform?"transform":"WebkitTransform",n=function(){j.Item.apply(this,arguments)},m=n.prototype=Object.create(j.Item.prototype),l=m._create;m._create=function(){l.call(this),this.rect=new i};var k=m.moveTo;return m.moveTo=function(g,f){var r=Math.abs(this.position.x-g),q=Math.abs(this.position.y-f),h=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&1>r&&1>q;return h?void this.goTo(g,f):void k.apply(this,arguments)},m.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&o&&(this.element.style[o]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},m.disablePlacing=function(){this.isPlacing=!1},m.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},m.showDropPlaceholder=function(){var b=this.dropPlaceholder;b||(b=this.dropPlaceholder=document.createElement("div"),b.className="packery-drop-placeholder",b.style.position="absolute"),b.style.width=this.size.width+"px",b.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(b)},m.positionDropPlaceholder=function(){this.dropPlaceholder.style[o]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},m.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},n}),function(d,c){"function"==typeof define&&define.amd?define("packery/js/packery",["get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],c):"object"==typeof module&&module.exports?module.exports=c(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):d.Packery=c(d.getSize,d.Outlayer,d.Packery.Rect,d.Packery.Packer,d.Packery.Item)}(window,function(x,w,v,u,t){function s(d,c){return d.position.y-c.position.y||d.position.x-c.position.x}function r(d,c){return d.position.x-c.position.x||d.position.y-c.position.y}function q(f,e){var h=e.x-f.x,g=e.y-f.y;return Math.sqrt(h*h+g*g)}v.prototype.canFit=function(b){return this.width>=b.width-1&&this.height>=b.height-1};var p=w.create("packery");p.Item=t;var o=p.prototype;o._create=function(){w.prototype._create.call(this),this.packer=new u,this.shiftPacker=new u,this.isEnabled=!0,this.dragItemCount=0;var b=this;this.handleDraggabilly={dragStart:function(){b.itemDragStart(this.element)},dragMove:function(){b.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){b.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(a,d){d&&b.itemDragStart(a.currentTarget)},drag:function(a,d){d&&b.itemDragMove(a.currentTarget,d.position.left,d.position.top)},stop:function(a,d){d&&b.itemDragEnd(a.currentTarget)}}},o._resetLayout=function(){this.getSize(),this._getMeasurements();var e,d,f;this._getOption("horizontal")?(e=1/0,d=this.size.innerHeight+this.gutter,f="rightwardTopToBottom"):(e=this.size.innerWidth+this.gutter,d=1/0,f="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=e,this.packer.height=this.shiftPacker.height=d,this.packer.sortDirection=this.shiftPacker.sortDirection=f,this.packer.reset(),this.maxY=0,this.maxX=0},o._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},o._getItemLayoutPosition=function(d){if(this._setRectSize(d.element,d.rect),this.isShifting||this.dragItemCount>0){var c=this._getPackMethod();this.packer[c](d.rect)}else{this.packer.pack(d.rect)}return this._setMaxXY(d.rect),d.rect},o.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},o._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},o._setMaxXY=function(b){this.maxX=Math.max(b.x+b.width,this.maxX),this.maxY=Math.max(b.y+b.height,this.maxY)},o._setRectSize=function(a,j){var i=x(a),h=i.outerWidth,g=i.outerHeight;(h||g)&&(h=this._applyGridGutter(h,this.columnWidth),g=this._applyGridGutter(g,this.rowHeight)),j.width=Math.min(h,this.packer.width),j.height=Math.min(g,this.packer.height)},o._applyGridGutter=function(f,e){if(!e){return f+this.gutter}e+=this.gutter;var h=f%e,g=h&&1>h?"round":"ceil";return f=Math[g](f/e)*e},o._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},o._manageStamp=function(f){var c,h=this.getItem(f);if(h&&h.isPlacing){c=h.rect}else{var g=this._getElementOffset(f);c=new v({x:this._getOption("originLeft")?g.left:g.right,y:this._getOption("originTop")?g.top:g.bottom})}this._setRectSize(f,c),this.packer.placed(c),this._setMaxXY(c)},o.sortItemsByPosition=function(){var b=this._getOption("horizontal")?r:s;this.items.sort(b)},o.fit=function(f,e,h){var g=this.getItem(f);g&&(this.stamp(g.element),g.enablePlacing(),this.updateShiftTargets(g),e=void 0===e?g.rect.x:e,h=void 0===h?g.rect.y:h,this.shift(g,e,h),this._bindFitEvents(g),g.moveTo(g.rect.x,g.rect.y),this.shiftLayout(),this.unstamp(g.element),this.sortItemsByPosition(),g.disablePlacing())},o._bindFitEvents=function(f){function e(){g++,2==g&&h.dispatchEvent("fitComplete",null,[f])}var h=this,g=0;f.once("layout",e),this.once("layoutComplete",e)},o.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},o.needsResizeLayout=function(){var a=x(this.element),d=this._getOption("horizontal")?"innerHeight":"innerWidth";return a[d]!=this.size[d]},o.resizeShiftPercentLayout=function(){var F=this._getItemsForLayout(this.items),E=this._getOption("horizontal"),D=E?"y":"x",C=E?"height":"width",B=E?"rowHeight":"columnWidth",A=E?"innerHeight":"innerWidth",z=this[B];if(z=z&&z+this.gutter){this._getMeasurements();var y=this[B]+this.gutter;F.forEach(function(d){var c=Math.round(d.rect[D]/z);d.rect[D]=c*y})}else{var l=x(this.element)[A]+this.gutter,a=this.packer[C];F.forEach(function(b){b.rect[D]=b.rect[D]/a*l})}this.shiftLayout()},o.itemDragStart=function(d){if(this.isEnabled){this.stamp(d);var c=this.getItem(d);c&&(c.enablePlacing(),c.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(c))}},o.updateShiftTargets=function(J){this.shiftPacker.reset(),this._getBoundingRect();var I=this._getOption("originLeft"),H=this._getOption("originTop");this.stamps.forEach(function(b){var i=this.getItem(b);if(!i||!i.isPlacing){var h=this._getElementOffset(b),d=new v({x:I?h.left:h.right,y:H?h.top:h.bottom});this._setRectSize(b,d),this.shiftPacker.placed(d)}},this);var G=this._getOption("horizontal"),F=G?"rowHeight":"columnWidth",E=G?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var D,C=this[F];if(C=C&&C+this.gutter){var B=Math.ceil(J.rect[E]/C),A=Math.floor((this.shiftPacker[E]+this.gutter)/C);D=(A-B)*C;for(var z=0;A>z;z++){this._addShiftTarget(z*C,0,D)}}else{D=this.shiftPacker[E]+this.gutter-J.rect[E],this._addShiftTarget(0,0,D)}var y=this._getItemsForLayout(this.items),c=this._getPackMethod();y.forEach(function(h){var e=h.rect;this._setRectSize(h.element,e),this.shiftPacker[c](e),this._addShiftTarget(e.x,e.y,D);var N=G?e.x+e.width:e.x,M=G?e.y:e.y+e.height;if(this._addShiftTarget(N,M,D),C){for(var L=Math.round(e[E]/C),K=1;L>K;K++){var i=G?N:e.x+C*K,g=G?e.y+C*K:M;this._addShiftTarget(i,g,D)}}},this)},o._addShiftTarget=function(h,g,l){var k=this._getOption("horizontal")?g:h;if(!(0!==k&&k>l)){var j=h+","+g,i=-1!=this.shiftTargetKeys.indexOf(j);i||(this.shiftTargetKeys.push(j),this.shiftTargets.push({x:h,y:g}))}},o.shift=function(h,g,l){var k,j=1/0,i={x:g,y:l};this.shiftTargets.forEach(function(d){var c=q(d,i);j>c&&(k=d,j=c)}),h.rect.x=k.x,h.rect.y=k.y};var n=120;o.itemDragMove=function(i,h,z){function y(){k.shift(l,h,z),l.positionDropPlaceholder(),k.layout()}var l=this.isEnabled&&this.getItem(i);if(l){h-=this.size.paddingLeft,z-=this.size.paddingTop;var k=this,j=new Date;this._itemDragTime&&j-this._itemDragTime<n?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(y,n)):(y(),this._itemDragTime=j)}},o.itemDragEnd=function(g){function f(){i++,2==i&&(j.element.classList.remove("is-positioning-post-drag"),j.hideDropPlaceholder(),h.dispatchEvent("dragItemPositioned",null,[j]))}var j=this.isEnabled&&this.getItem(g);if(j){clearTimeout(this.dragTimeout),j.element.classList.add("is-positioning-post-drag");var i=0,h=this;j.once("layout",f),this.once("layoutComplete",f),j.moveTo(j.rect.x,j.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),j.disablePlacing(),this.unstamp(j.element)}},o.bindDraggabillyEvents=function(b){this._bindDraggabillyEvents(b,"on")},o.unbindDraggabillyEvents=function(b){this._bindDraggabillyEvents(b,"off")},o._bindDraggabillyEvents=function(e,d){var f=this.handleDraggabilly;e[d]("dragStart",f.dragStart),e[d]("dragMove",f.dragMove),e[d]("dragEnd",f.dragEnd)},o.bindUIDraggableEvents=function(b){this._bindUIDraggableEvents(b,"on")},o.unbindUIDraggableEvents=function(b){this._bindUIDraggableEvents(b,"off")},o._bindUIDraggableEvents=function(e,d){var f=this.handleUIDraggable;e[d]("dragstart",f.start)[d]("drag",f.drag)[d]("dragstop",f.stop)};var m=o.destroy;return o.destroy=function(){m.apply(this,arguments),this.isEnabled=!1},p.Rect=v,p.Packer=u,p}),function(d,c){"function"==typeof define&&define.amd?define(["isotope/js/layout-mode","packery/js/packery"],c):"object"==typeof module&&module.exports?module.exports=c(require("isotope-layout/js/layout-mode"),require("packery")):c(d.Isotope.LayoutMode,d.Packery)}(window,function(t,s){var r=t.create("packery"),q=r.prototype,p={_getElementOffset:!0,_getMeasurement:!0};for(var o in s.prototype){p[o]||(q[o]=s.prototype[o])}var n=q._resetLayout;q._resetLayout=function(){this.packer=this.packer||new s.Packer,this.shiftPacker=this.shiftPacker||new s.Packer,n.apply(this,arguments)};var m=q._getItemLayoutPosition;q._getItemLayoutPosition=function(b){return b.rect=b.rect||new s.Rect,m.call(this,b)};var l=q.needsResizeLayout;q.needsResizeLayout=function(){return this._getOption("horizontal")?this.needsVerticalResizeLayout():l.call(this)};var k=q._getOption;return q._getOption=function(b){return"horizontal"==b?void 0!==this.options.isHorizontal?this.options.isHorizontal:this.options.horizontal:k.apply(this.isotope,arguments)},r});